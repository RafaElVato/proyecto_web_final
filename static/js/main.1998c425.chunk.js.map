{"version":3,"sources":["Services/Services.js","Contexts/UserContext.js","Assets/LoginPic.png","Pages/Login/Login.jsx","Components/PostForm/PostForm.js","Components/PostBox/PostBoxAdmin.jsx","Components/PostBox/PostBox.jsx","Pages/Admin/Admin.jsx","Pages/User/User.jsx","Pages/NotFound/NotFound.jsx","Pages/Redirect/Redirect.jsx","Components/RequireAuth/RequireAuth.jsx","App.js","reportWebVitals.js","index.js"],"names":["BASE_URL","services","login","username","password","a","fetch","method","headers","body","JSON","stringify","response","ok","json","data","verifyToken","token","Authorization","getOne","id","localStorage","getItem","console","log","getAll","page","getOwned","getFavorite","update","post","toggle","status","active","likePost","commentPost","comment","UserContext","React","createContext","TOKEN_KEY","UserProvider","props","useState","undefined","setToken","user","setUser","useEffect","lsToken","getToken","userService","role","setTokenAll","verifyTokenAsync","setItem","useCallback","tokenRes","error","loginAsync","logout","value","useMemo","Provider","useUserContext","context","useContext","Error","Login","setUsername","setPassword","setError","OnChange","e","save","target","OnSubmitHandler","preventDefault","logged","replace","to","className","onSubmit","type","onChange","placeholder","src","LoginPic","alt","PostForm","title","setTitle","description","setdescription","image","setImage","length","startsWith","then","res","catch","err","htmlFor","PostBox","setComment","commentsList","comments","map","onClick","Service","_id","likes","commentBody","Admin","navigate","useNavigate","posts","setPosts","posts1","setPosts1","setPage","pageOwned","setPageOwned","postTitle","setPostTitle","postFound","setPostFound","Services","getPosts","getPostsowned","postList","postsOwned","postsFound","filter","toLowerCase","includes","User","fetchPosts","postlist1","NotFound","rolePages","RedirectUser","PrivateRoute","children","App","path","element","Redirect","RequireAuth","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1998c425.chunk.js","sourcesContent":["const BASE_URL = \"https://posts-pw2021.herokuapp.com/api/v1\";\r\n\r\nconst services = {};\r\n\r\nservices.login = async (username, password) => {\r\n    const response = await fetch(`${BASE_URL}/auth/signin`, {\r\n        method: \"POST\",\r\n        headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n        username,\r\n        password,\r\n        }),\r\n    });\r\n    if (response.ok) {\r\n        const data = await response.json();\r\n        return data;\r\n    }\r\n\r\n    return {};\r\n};\r\n\r\nservices.verifyToken = async (token) => {\r\n    const response = await fetch(`${BASE_URL}/auth/whoami`, {\r\n        method: \"GET\",\r\n        headers: {\r\n        Authorization: `Bearer ${token}`,\r\n        },\r\n    });\r\n    if (response.ok) {\r\n        const data = await response.json();\r\n        return data;\r\n    }\r\n\r\n    return {};\r\n}   \r\n//Agg usos de la API \r\nservices.getOne = async (id) => {\r\n    const response = await fetch(`${BASE_URL}/posts/one/${id}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n            Authorization: `Bearer ${localStorage.getItem('token')}`\r\n        },\r\n    });\r\n    if (response.ok) {\r\n        const data = await response.json();\r\n        console.log(data);\r\n        return data;\r\n    }\r\n\r\n    return {};\r\n}\r\nservices.getAll = async (page) => {\r\n    const response = await fetch(`${BASE_URL}/post/all?limit=10&page=${page}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n        Authorization: `Bearer ${localStorage.getItem('token')}`\r\n        },\r\n    });\r\n    if (response.ok) {\r\n        const data = await response.json();\r\n        console.log(data);\r\n        return data;\r\n    } else {\r\n        console.log(\"error\");\r\n    }\r\n    return {};\r\n}; \r\nservices.getOwned = async (page) => {\r\n    const response = await fetch(`${BASE_URL}/post/owned?limit=10&page=${page}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n        Authorization: `Bearer ${localStorage.getItem('token')}`\r\n        },\r\n    });\r\n    if (response.ok) {\r\n        const data = await response.json();\r\n        console.log(data);\r\n        return data;\r\n    } else {\r\n        console.log(\"error\");\r\n    }\r\n    return {};\r\n}; \r\n\r\n\r\nservices.getFavorite = async () => {\r\n    const response = await fetch(`${BASE_URL}/post/fav`, {\r\n        method: \"GET\",\r\n        headers: {\r\n            Authorization: `Bearer ${localStorage.getItem('token')}`\r\n        },\r\n    });\r\n    if (response.ok) {\r\n        const data = await response.json();\r\n        return data;\r\n    }\r\n\r\n    return [];\r\n}\r\n\r\nservices.update= async (post, id) => {\r\n    const response = await fetch(`${BASE_URL}/posts/update/${id}`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n            \"Content-type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(post),\r\n    });\r\n    if (response.ok) {\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nservices.toggle = async (id, status) => {\r\n    const response = await fetch(`${BASE_URL}/post/toggle/${id}`, {\r\n        method : \"PATCH\",\r\n        headers: {\r\n            Authorization: `Bearer ${localStorage.getItem('token')}`\r\n        },\r\n        body: JSON.stringify({\r\n            active: status\r\n        })\r\n    });\r\n    if (response.ok) {\r\n        const data = await response.json();\r\n        return data;\r\n    } else {\r\n        console.log(\"error\");\r\n    }\r\n    return {};\r\n}\r\n\r\nservices.likePost = async (id) => {\r\n    const response = await fetch(`${BASE_URL}/post/like/${id}`, {\r\n        method : \"PATCH\",\r\n        headers: {\r\n            Authorization: `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n    });\r\n    if (response.ok) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nservices.commentPost = async (id='', comment) => {\r\n    const response = await fetch(`${BASE_URL}/post/comment/${id}`, {\r\n        method : \"PATCH\",\r\n        headers: {\r\n            Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n        \"Content-type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(comment),\r\n    });\r\n    if (response.ok) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nexport default services;","import React, { useState, useEffect, useMemo, useCallback } from \"react\";\r\nimport userService from './../Services/Services';\r\n\r\nconst UserContext = React.createContext();\r\nconst TOKEN_KEY = \"token\";\r\n\r\nexport const UserProvider = (props) => {\r\n    const [token, setToken] = useState(undefined);\r\n    const [user, setUser] = useState(undefined);\r\n\r\n    useEffect(() => {\r\n        const verifyTokenAsync = async () => {\r\n            const lsToken = getToken();\r\n\r\n            if(lsToken) {\r\n                const { username, role } = await userService.verifyToken(lsToken);\r\n                if(username && role) {\r\n                    setUser({ username, role });\r\n                    setTokenAll(lsToken);\r\n                }\r\n            }\r\n        }\r\n\r\n        verifyTokenAsync();\r\n    }, [token])\r\n\r\n    const setTokenAll = (token) => {\r\n        localStorage.setItem(TOKEN_KEY, token);\r\n        setToken(token);\r\n    }\r\n\r\n    const login = useCallback((username, password)=> {\r\n        const loginAsync = async () => {\r\n            let status = false;\r\n            try {\r\n                const { token: tokenRes } = await userService.login(username, password);\r\n\r\n                if(tokenRes) {\r\n                    setTokenAll(tokenRes);\r\n                    status = true;\r\n                }\r\n            } catch (error) {\r\n                console.error(error);\r\n                console.error(\"Error in login\");\r\n            } finally {\r\n                return status;\r\n            }\r\n        };\r\n\r\n        return loginAsync();\r\n    }, [])\r\n\r\n    const logout = useCallback(() => {\r\n        setUser(undefined);\r\n        setTokenAll(undefined);\r\n    }, [])\r\n\r\n    const value = useMemo(()=> ({\r\n        token: token,\r\n        user: user,\r\n        login: login,\r\n        logout: logout\r\n    }), [token, user, login, logout]);\r\n\r\n    return <UserContext.Provider value={value} {...props} />;\r\n}\r\n\r\nexport const useUserContext = () => {\r\n    const context = React.useContext(UserContext);\r\n\r\n    if (!context) {\r\n        throw new Error(\"useUserContext() must be inside of UserProvider\");\r\n    }\r\n\r\n    return context;\r\n}\r\n\r\nconst getToken = () => localStorage.getItem(TOKEN_KEY);","export default __webpack_public_path__ + \"static/media/LoginPic.a248a50f.png\";","import { useState } from \"react\";\r\nimport { useUserContext } from \"../../Contexts/UserContext\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport LoginPic from \"../../Assets/LoginPic.png\";\r\n\r\nexport default function Login() {\r\n    const { login, token } = useUserContext();\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [error, setError] = useState(false);\r\n\r\n    const OnChange = (e, save) => {\r\n        save(e.target.value);\r\n    }\r\n\r\n    const OnSubmitHandler =  async (e) => {\r\n        e.preventDefault();\r\n        const logged = await login(username, password);\r\n\r\n        setError(!logged);\r\n        setUsername(\"\");\r\n        setPassword(\"\");\r\n    }\r\n\r\n    if (token) {\r\n        console.log(\"Se loggea\")\r\n        return <Navigate replace to=\"/redirect\" />\r\n    }\r\n\r\n    return (\r\n        <div className=\"login-container flex flex-row justify-center items-center min-h-screen  bg-gradient-to-r from-red-500 to-yellow-400 \">\r\n            <div className=\"form px-32\">\r\n                <form onSubmit={OnSubmitHandler} className=\"flex flex-col justify-center items-center min-h-screen\">\r\n                    <h1 className=\"text-white text-5xl font-bold py-5\">¡Ingresa!</h1>\r\n                    <input className=\"rounded m-3 p-3\" type=\"text\" value={username} onChange={(e) => OnChange(e, setUsername)} placeholder='Ingrese su usuario'/>\r\n                    <input className=\"rounded m-3 p-3\" type=\"password\" value={password} onChange={(e) => OnChange(e, setPassword)} placeholder='Ingrese su contraseña'/>\r\n                    <button  className=\"mt-6 h-auto w-1/2 md:w-min text-xl p-2 bg-purple-500 hover:bg-purple-600 text-white \r\n                        focus:outline-none focus:shadow-outline rounded-lg shadow px-7\" >Login</button>\r\n                    {error && <p className=\"text-xl font-medium text-red-900 text-center mt-6 animate-pulse\">Usuario o contraseña incorrectos</p>}\r\n                </form>\r\n            </div>\r\n            <div className=\"login-img\">\r\n                <img src={LoginPic} alt=\"login\" />\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n}\r\n","import { useState } from 'react';\r\n\r\nconst PostForm = () => {\r\n    const [title, setTitle] = useState('');\r\n    const [description, setdescription] = useState('');\r\n    const [image, setImage] = useState('');\r\n    const [error, setError] = useState(false);\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const post = { title, description, image };\r\n        if (title === '' || description === '' || image === '' || title.length < 8 || title.length > 32 || description.length < 8 || !image.startsWith('http')) {\r\n            setError(true);\r\n        }\r\n        else {\r\n            fetch('https://posts-pw2021.herokuapp.com/api/v1/post/create', {\r\n                method: 'POST',\r\n                body: JSON.stringify(post),\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n                }\r\n            })\r\n                .then(res => res.json())\r\n                .then(data => {\r\n                    console.log(data);\r\n                })\r\n                .catch(err => console.log(err));\r\n\r\n        }\r\n    }\r\n\r\n    const renderError = () => {\r\n        return (\r\n            <div className=\"alert alert-danger animate-pulse text-red-600 bg-gray-200 font-bold\" role=\"alert\">\r\n                <p> El título debe tener entre 8 y 32 characters </p>\r\n                <p> La descripción debe tener como mínimo 8 caracteres </p>\r\n                <p> La imagen debe ser un url </p>\r\n                <p> Todos los campos son obligatorios </p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"container mt-5 mb-5 p-5 bg-gray-300 rounded shadow-sm border border-secondary border-top-0 border-left-0 \r\n            border-right-0 border-bottom-0 opacity-75\">\r\n                <h1 className=\"text-2xl font-bold text-center\">Crear nuevo post</h1>\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"flex flex-row space-x-8\">\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"title\">Titulo</label>\r\n                        <input type=\"text\" className=\"form-control rounded\" id=\"title\" value={title} onChange={(e) => setTitle(e.target.value)} />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"description\">Descripción</label>\r\n                        <input type=\"text\" className=\"form-control rounded\" id=\"description\" value={description} onChange={(e) => setdescription(e.target.value)} />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"image\">Imagen</label>\r\n                        <input type=\"text\" className=\"form-control rounded\" id=\"image\" value={image} onChange={(e) => setImage(e.target.value)} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group m-3 text-center\">\r\n                    {error && renderError()}\r\n                    <button type=\"submit\" className=\"mt-6 h-auto w-1/2 md:w-min text-xl p-2 bg-blue-600 hover:bg-blue-700 text-white \r\n                    focus:outline-none focus:shadow-outline rounded-lg shadow px-7\">Crear</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default PostForm;","import { FcLike } from 'react-icons/fc';\r\nimport { AiOutlineComment } from 'react-icons/ai';\r\nimport { AiOutlineLike } from 'react-icons/ai';\r\nimport { FiSend } from 'react-icons/fi';\r\nimport Service from '../../Services/Services';\r\nimport { useState } from 'react';\r\n\r\nexport default function PostBox ({ post }) {\r\n  const [comment, setComment] = useState('');\r\n  \r\n  const commentsList = post.comments.map((comment) => {\r\n    return (\r\n      <div className=\"comment-box bg-gray-300 p-2 rounded-lg m-2\">\r\n        <p className=\"comment-text\">{comment.user.username}</p>\r\n        <p className=\"comment-text\">{comment.description}</p>\r\n      </div>\r\n    );\r\n  });\r\n\r\n  const commentPost = (e) => {\r\n    const id = post._id;\r\n    const commentBody = {\r\n      description: comment\r\n    }\r\n    Service.commentPost(id, commentBody)\r\n    .then(res => {\r\n      console.log(res);\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n    })\r\n    setComment('');\r\n  };\r\n\r\n    const togglePostActive = () => {\r\n        if (post.active==='true') {\r\n            Service.toggle(post._id, false)\r\n        } else {\r\n            Service.toggle(post._id, true)\r\n        }\r\n    }\r\n\r\n  return (\r\n    <div className=\"post-box col-md-4 col-sm-6 col-12 p-10 mb-4 shadow-lg rounded bg-gray-200 m-2\">\r\n        <div className=\"flex flex-row text-center justify-center\">\r\n            <button className=\"like-button bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-full justify-center items-center\" onClick={togglePostActive}> x </button>\r\n        </div>\r\n      <h1 className=\"font-roboto text-black text-center\"> {post.user.username} </h1>\r\n      <h1 className=\"text-center text-xl font-bold text-black\">{post.title}</h1>\r\n      <h1 className=\"text-justify text-sm text-black\">{post.description}</h1>\r\n        <div className=\"post-box-body-image auto\">\r\n          <img src={post.image} alt=\"post\" />\r\n        </div>\r\n      <div className=\"post-box-footer flex flex-row justify-center space-x-36\">\r\n          <div className=\"post-box-footer-left-icon flex flex-row\">\r\n            <button className=\"btn btn-link\"> <AiOutlineComment /> </button>\r\n            <h1 className=\"text-sm text-black\">{post.comments.length}</h1>\r\n          </div>\r\n          <div className=\"post-box-footer-left-icon\">\r\n            <button className=\"btn btn-link\"> <FcLike /> </button>\r\n          </div>\r\n          <div className=\"post-box-footer-left-icon flex flex-row\">\r\n            <button className=\"btn btn-link\"> <AiOutlineLike /> </button>\r\n            <h1 className=\"text-sm text-black\">{post.likes.length}</h1>\r\n          </div>\r\n      </div>\r\n        <div className=\"comment-box flex flex-col bg-gray-400 p-3 rounded-sm\">\r\n          <h1 className=\"comment-text text-black font-bold\">Comentarios</h1>\r\n            <h1 className=\"comment-text\">{commentsList}</h1>\r\n        </div>\r\n        <form className=\"comment-box flex flex-row justify-center items-center\" onSubmit={commentPost}>\r\n          <input className=\"comment-text\" type=\"text\" placeholder=\"Comentar\" onChange={(e) => setComment(e.target.value)}/>\r\n          <button className=\"btn btn-link rounded-full bg-blue-600 p-3 m-2\" type=\"submit\"><FiSend/></button>\r\n        </form>\r\n    </div>\r\n  ) \r\n}","import { FcLike } from 'react-icons/fc';\r\nimport { AiOutlineComment } from 'react-icons/ai';\r\nimport { AiOutlineLike } from 'react-icons/ai';\r\nimport { FiSend } from 'react-icons/fi';\r\nimport Service from '../../Services/Services';\r\nimport { useState } from 'react';\r\n\r\nexport default function PostBox ({ post }) {\r\n  const [comment, setComment] = useState('');\r\n  \r\n  const commentsList = post.comments.map((comment) => {\r\n    return (\r\n      <div className=\"comment-box bg-gray-300 p-2 rounded-lg m-2\">\r\n        <p className=\"comment-text\">{comment.user.username}</p>\r\n        <p className=\"comment-text\">{comment.description}</p>\r\n      </div>\r\n    );\r\n  });\r\n\r\n  const commentPost = (e) => {\r\n    const id = post._id;\r\n    const commentBody = {\r\n      description: comment\r\n    }\r\n    Service.commentPost(id, commentBody)\r\n    .then(res => {\r\n      console.log(res);\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n    })\r\n    setComment('');\r\n  };\r\n\r\n  return (\r\n    <div className=\"post-box col-md-4 col-sm-6 col-12 p-10 mb-4 shadow-lg rounded bg-gray-200 m-2\">\r\n      <h1 className=\"font-roboto text-black text-center\"> {post.user.username} </h1>\r\n      <h1 className=\"text-center text-xl font-bold text-black\">{post.title}</h1>\r\n      <h1 className=\"text-justify text-sm text-black\">{post.description}</h1>\r\n        <div className=\"post-box-body-image auto\">\r\n          <img src={post.image} alt=\"post\" />\r\n        </div>\r\n      <div className=\"post-box-footer flex flex-row justify-center space-x-36\">\r\n          <div className=\"post-box-footer-left-icon flex flex-row\">\r\n            <button className=\"btn btn-link\"> <AiOutlineComment /> </button>\r\n            <h1 className=\"text-sm text-black\">{post.comments.length}</h1>\r\n          </div>\r\n          <div className=\"post-box-footer-left-icon\">\r\n            <button className=\"btn btn-link\"> <FcLike /> </button>\r\n          </div>\r\n          <div className=\"post-box-footer-left-icon flex flex-row\">\r\n            <button className=\"btn btn-link\"> <AiOutlineLike /> </button>\r\n            <h1 className=\"text-sm text-black\">{post.likes.length}</h1>\r\n          </div>\r\n      </div>\r\n        <div className=\"comment-box flex flex-col bg-gray-400 p-3 rounded-sm\">\r\n          <h1 className=\"comment-text text-black font-bold\">Comentarios</h1>\r\n            <h1 className=\"comment-text\">{commentsList}</h1>\r\n        </div>\r\n        <form className=\"comment-box flex flex-row justify-center items-center\" onSubmit={commentPost}>\r\n          <input className=\"comment-text\" type=\"text\" placeholder=\"Comentar\" onChange={(e) => setComment(e.target.value)}/>\r\n          <button className=\"btn btn-link rounded-full bg-blue-600 p-3 m-2\" type=\"submit\"><FiSend/></button>\r\n        </form>\r\n    </div>\r\n  )\r\n}","import { useUserContext } from '../../Contexts/UserContext'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useEffect, useState } from 'react'\r\nimport PostForm from '../../Components/PostForm/PostForm'\r\nimport Services from '../../Services/Services'\r\nimport PostBox from '../../Components/PostBox/PostBoxAdmin'\r\nimport PostBoxNoToggle from '../../Components/PostBox/PostBox'\r\n\r\n\r\nexport default function Admin() {\r\n    const navigate = useNavigate()\r\n    const { logout } = useUserContext()\r\n    const [posts, setPosts] = useState([])\r\n    const [posts1, setPosts1] = useState([])\r\n    const [page, setPage] = useState(0)\r\n    const [pageOwned, setPageOwned] = useState(0)\r\n    const [postTitle, setPostTitle] = useState('')\r\n    const [postFound, setPostFound] = useState([])\r\n\r\n    const logoutHandler = () => {\r\n        logout()\r\n        navigate(\"/login\")\r\n    }\r\n\r\n    useEffect(() => {\r\n        const getPosts = async () => {\r\n            const posts = await Services.getAll(page)\r\n            setPosts(posts.data)\r\n        }\r\n        getPosts()\r\n    }, [page])  /*acá obtenmos el get all */\r\n    \r\n    useEffect(() => {\r\n        const getPostsowned = async () => {\r\n            const posts1 = await Services.getOwned(pageOwned)\r\n            setPosts1(posts1.data)\r\n        }\r\n        getPostsowned()\r\n    }, [pageOwned])  /*acá obtenmos el get owned */\r\n\r\n    const nextPage = () => {\r\n         setPage(page + 1)\r\n    }\r\n\r\n    const prevPage = () => {\r\n        if (page !==0) {\r\n            setPage(page - 1)\r\n        }\r\n        else{\r\n            setPage(0)\r\n        }\r\n    }\r\n\r\n    const nextPageOwned = () => {\r\n        setPageOwned(pageOwned + 1)\r\n   }\r\n\r\n   const prevPageOwned = () => {\r\n       if (pageOwned !==0) {\r\n           setPageOwned(pageOwned - 1)\r\n       }\r\n       else{\r\n           setPageOwned(0)\r\n       }\r\n   }\r\n    \r\n    const  postsFound = (title) => { \r\n        const postsFound = posts.filter(post => post.title.toLowerCase().includes(title.toLowerCase()))\r\n        setPostFound(postsFound)\r\n    } \r\n    \r\n\r\n\r\n    const postList = posts.map(posts => {\r\n        return <PostBoxNoToggle key={posts.id} post={posts} />\r\n    })\r\n\r\n    const postsOwned = posts1.map(posts => {\r\n        return <PostBox key={posts.id} post={posts} />\r\n    })\r\n\r\n    return( \r\n    <main className=\"flex gap-4 flex-col lg:flex-row justify-around items-center p-6 lg:p-10 min-h-screen  bg-gradient-to-r from-green-400 via-blue-500 to-indigo-600 w-screen\">\r\n    <section className=\"w-4/5 lg:w-1/2 gap-6 h-full flex flex-col justify-center items-center\">\r\n        <h1 className=\"text-6xl text-black text-center w-screen\">¡Bienvenido a la página de admin!</h1>\r\n  \r\n        \r\n        <div className=\"flex flex-col\">\r\n            <PostForm/>\r\n        </div>\r\n\r\n        <form className=\"flex flex-row gap-4\">\r\n            <input className=\"w-full py-2 px-16 rounded-lg outline-none\" type=\"text\" placeholder=\"Buscar Post\" onChange={(e) => setPostTitle(e.target.value)}/>\r\n            <button className=\"w-full rounded-lg bg-pink-500 hover:bg-pink-600\" type=\"button\" onClick={(e) => postsFound(postTitle)}>Buscar</button>\r\n        </form>\r\n\r\n        <div className=\"flex flex-col gap-4\">\r\n            <h1 className=\"text-2xl font-medium text-black text-center\">Posts encontrados </h1>\r\n            <div className=\"flex flex-col gap-4\">\r\n                {postFound.map(post => {\r\n                    return <PostBoxNoToggle key={post.id} post={post} />\r\n                })}\r\n            </div>\r\n        </div>\r\n\r\n        <h1 className=\"text-xl font-medium text-white text-center mt-6\">__________________________________________</h1>\r\n        \r\n        <div className=\"flex flex-col mt-6 justify-center content-center\">\r\n            <h1 className=\"text-2xl font-medium text-black text-center\">Tus posts</h1>\r\n            <div className=\"flex flex-col content-center md:w-min\">\r\n                {postsOwned}\r\n            </div>\r\n            <div className=\"flex flex-row gap-4 justify-center\">\r\n                <button onClick={prevPageOwned} className=\"mt-6 h-auto w-1/2 md:w-min text-xl p-2 bg-green-500 hover:bg-green-600 text-white \r\n                    focus:outline-none focus:shadow-outline rounded-lg shadow px-7\" >Anterior</button>\r\n                <button onClick={nextPageOwned} className=\"mt-6 h-auto w-1/2 md:w-min text-xl p-2 bg-green-500 hover:bg-green-600 text-white \r\n                    focus:outline-none focus:shadow-outline rounded-lg shadow px-7\" >Siguiente</button>\r\n            </div>\r\n            <h1 className=\"text-xl font-medium text-white text-center mt-6\">__________________________________________</h1>\r\n            <h1 className=\"text-2xl font-medium text-black text-center\">Posts</h1>\r\n            <div className=\"flex flex-col content-center md:w-min\">\r\n                {postList}\r\n            </div>\r\n        </div>\r\n\r\n        <div className=\"flex flex-row gap-4 justify-item-center\">\r\n                <button onClick={prevPage} className=\"mt-6 h-auto w-1/2 md:w-min text-xl p-2 bg-green-500 hover:bg-green-600 text-white \r\n                    focus:outline-none focus:shadow-outline rounded-lg shadow px-7\" >Anterior</button>\r\n                <button onClick={nextPage} className=\"mt-6 h-auto w-1/2 md:w-min text-xl p-2 bg-green-500 hover:bg-green-600 text-white \r\n                    focus:outline-none focus:shadow-outline rounded-lg shadow px-7\" >Siguiente</button>\r\n        </div>\r\n\r\n        <h1 className=\"text-xl font-medium text-white text-center mt-6\">__________________________________________</h1>\r\n\r\n        <button onClick={logoutHandler} className=\"mt-6 h-auto w-1/2 md:w-min text-xl bg-red-600 hover:bg-red-700 text-white \r\n            focus:outline-none focus:shadow-outline rounded-lg shadow px-10 py-2 text-center\" >Cerrar sesión</button>\r\n\r\n    </section>\r\n\r\n\r\n</main>);\r\n}","import { useUserContext } from '../../Contexts/UserContext'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\n\r\nimport Services from '../../Services/Services';\r\nimport { useEffect, useState } from 'react'\r\nimport PostBox from '../../Components/PostBox/PostBox'\r\n\r\nexport default function User() {\r\n    const navigate = useNavigate()\r\n    const { logout } = useUserContext()\r\n    const [posts, setPosts] = useState([])\r\n    const [page, setPage] = useState(0)\r\n    const [postTitle, setPostTitle] = useState('')\r\n    const [postFound, setPostFound] = useState([])\r\n\r\n    const logoutHandler = () => {\r\n        logout();\r\n        navigate(\"/login\");\r\n    }\r\n\r\n    useEffect(() => {\r\n        const fetchPosts = async () => {\r\n            const posts = await Services.getAll(page);\r\n            setPosts(posts.data);\r\n          \r\n        }// fetchPosts\r\n        fetchPosts()\r\n        \r\n    \r\n    }, [page]) // use efect\r\n    \r\n    const nextPage = () => {\r\n        setPage(page + 1);\r\n    }\r\n    const prevPage = () => {\r\n        if (page !==0) {\r\n            setPage(page - 1)\r\n        }\r\n        else{\r\n            setPage(0)\r\n        }\r\n    } \r\n    const  postsFound = (title) => { \r\n        const postsFound = posts.filter(post => post.title.toLowerCase().includes(title.toLowerCase()))\r\n        setPostFound(postsFound)\r\n    } \r\n\r\n    const postlist1 = posts.map(posts => {\r\n        return <PostBox key={posts.id} post={posts} />\r\n    })\r\n    \r\n   \r\n\r\n    return( \r\n    <main className=\"flex gap-4 flex-col lg:flex-row justify-around items-center p-6 lg:p-10 min-h-screen  bg-gradient-to-r from-green-400 to-blue-400 w-screen\">\r\n        <section className=\"w-4/5 lg:w-1/2 gap-6 h-full flex flex-col justify-center items-center\">\r\n            <div className=\"w-4/5 lg:w-1/2 gap-6 h-full flex flex-col justify-around items-center\">\r\n            <h1 className=\"text-6xl text-black text-center w-screen\">¡Bienvenido a la página de usuario!</h1>\r\n                \r\n                <form className=\"flex flex-row gap-4\">\r\n                    <input className=\"w-full py-2 px-16 rounded-lg outline-none\" type=\"text\" placeholder=\"Buscar Post\" onChange={(e) => setPostTitle(e.target.value)}/>\r\n                    <button className=\"w-full rounded-lg bg-pink-500 hover:bg-pink-600\" type=\"button\" onClick={(e) => postsFound(postTitle)}>Buscar</button>\r\n                </form>\r\n\r\n                <div className=\"flex flex-col gap-4\">\r\n                    <h3 className=\"text-2xl font-medium text-black text-center\">Posts encontrados </h3>\r\n                    <div className=\"flex flex-col gap-4\">\r\n                        {postFound.map(post => {\r\n                            return <PostBox key={post.id} post={post} />\r\n                        })}\r\n                    </div>\r\n                </div>\r\n                \r\n                \r\n                <div className=\"flex flex-col mt-6 justify-center\">\r\n                \r\n\r\n                <p className=\"text-xl font-medium text-white text-center mt-6\">__________________________________________</p>\r\n                    <h3 className=\"text-2xl font-medium text-black text-center\">Posts</h3>\r\n                    <div className=\"grid \">\r\n                        {postlist1}\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex flex-row gap-4 justify-item-center\">\r\n                        <button onClick={prevPage} className=\" mt-6 h-auto w-1/2 md:w-min text-xl p-2 bg-blue-600 hover:bg-blue-700 text-white \r\n                focus:outline-none focus:shadow-outline rounded-lg shadow px-7\" >Anterior</button>\r\n                        <button onClick={nextPage} className=\"  mt-6 h-auto w-1/2 md:w-min text-xl p-2 bg-blue-600 hover:bg-blue-700 text-white \r\n                focus:outline-none focus:shadow-outline rounded-lg shadow px-7\" >Siguiente</button>\r\n                </div>\r\n            \r\n            \r\n            </div>\r\n        <button onClick={logoutHandler} className=\" mt-6 h-auto w-1/2 md:w-min text-xl p-2 bg-red-500 hover:bg-red-600 text-white \r\n            focus:outline-none focus:shadow-outline rounded-lg shadow px-7\" >Cerrar sesión</button>\r\n        </section>\r\n    </main>\r\n    )\r\n}\r\n","import { FcCancel } from \"react-icons/all\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst NotFound = () => {\r\n\r\nconst navigate = useNavigate();\r\n\r\nconst onClick = (e) => {\r\n  navigate(\"/login\");\r\n}\r\nreturn (\r\n    <div className=\"flex flex-col justify-center items-center w-screen h-screen bg-black\">\r\n\r\n      <FcCancel className=\"text-8xl m-5\"/>\r\n     \r\n      <h2 className=\"text-6xl font-roboto text-center mb-6 text-white\">404</h2>\r\n      <h3 className=\"text-xl font-roboto text-center text-white\">Esta página no se encuentra</h3>\r\n      <p className=\"text-lg font-roboto text-center text-white\">\r\n        Debes regresar a la página de inicio\r\n      </p>\r\n      <button\r\n        className=\"font-roboto bg-white m-4 py-2 px-4 rounded text-black hover:bg-gray-200\"\r\n        onClick={(e) => onClick(e)}\r\n      >\r\n        Ir al login\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default NotFound;","import { useUserContext } from \"../../Contexts/UserContext\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nconst rolePages = {\r\n    \"admin\": \"/admin\",\r\n    \"user\": \"/user\"\r\n}\r\n\r\nconst RedirectUser = () => {\r\n    const { user } = useUserContext();\r\n    if (!user) return <p> No se puede redireccionar </p>;\r\n\r\n  return <Navigate replace to={rolePages[user.role] ?? \"/\"} />;\r\n\r\n    \r\n}\r\n export default RedirectUser;","import { useUserContext } from '../../Contexts/UserContext';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nconst PrivateRoute = ({role=\"user\", children }) => {\r\n  const { token, user } = useUserContext();\r\n  \r\n  if(!token) return <Navigate replace to=\"/login\"/>;\r\n  if(!user || user.role !== role) return <Navigate replace to=\"/404\"/>;\r\n\r\n  return children;\r\n}\r\n\r\nexport default PrivateRoute;","import Login from './Pages/Login/Login';\r\n\r\nimport Admin from \"./Pages/Admin/Admin\";\r\nimport User from './Pages/User/User';\r\nimport NotFound from \"./Pages/NotFound/NotFound\";\r\nimport RedirectUser from './Pages/Redirect/Redirect';\r\n\r\nimport RequireAuth from \"./Components/RequireAuth/RequireAuth\";\r\n\r\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\r\n\r\n\r\nfunction App() {\r\n  return (\r\n    <BrowserRouter>\r\n      <Routes>        \r\n        <Route path=\"/login\" element={<Login />} />\r\n       \r\n        <Route path=\"/redirect\" element={<RedirectUser />}/>\r\n        \r\n        <Route path=\"/admin\"  element={<RequireAuth role=\"admin\"><Admin /></RequireAuth>} />\r\n        <Route path=\"/user\"   element={<RequireAuth role=\"user\"> <User /> </RequireAuth>} />\r\n        \r\n        <Route path=\"*\" element={<NotFound />}/>\r\n      </Routes>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { UserProvider } from './Contexts/UserContext'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <UserProvider>\r\n      <App />\r\n      </UserProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}